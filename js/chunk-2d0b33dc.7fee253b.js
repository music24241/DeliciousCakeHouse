(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b33dc"],{2811:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),r("section",{staticClass:"row justify-content-center mt-4 mt-md-5"},[r("div",{staticClass:"col-10 col-md-8"},[r("h4",{staticClass:"text-center"},[t._v("總金額："+t._s(t.finalTotal))]),r("h5",{staticClass:"py-3 mt-4 mt-md-5 mb-2 text-center bg-light"},[t._v("付款")]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md"},[r("label",{attrs:{for:""}},[t._v("姓名")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",placeholder:"姓名",name:"name"}})]),r("div",{staticClass:"form-group col-md"},[r("label",{attrs:{for:""}},[t._v("電話")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"text",placeholder:"電話",name:"tel"}})])]),r("div",{staticClass:"row d-flex justify-content-end mt-4"},[r("button",{staticClass:"btn btn-secondary mr-3",on:{click:function(e){return e.preventDefault(),t.backToInfo()}}},[t._v("回訂單資料")]),r("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return e.preventDefault(),t.pay()}}},[t._v("確認付款")])])])])],1)},s=[],n=(r("7f7f"),r("96cf"),r("3b8d")),i=r("cebc"),c=r("2f62"),o={data:function(){return{orderID:"",orderTotal:0}},methods:Object(i["a"])({pay:function(){var t=this;t.$validator.validate().then(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return e.next=3,t.createOrder(t.userdata);case 3:t.orderID=t.orderInfo.orderId,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/pay/").concat(t.orderID),t.$http.post(a).then(function(e){e.data.success?t.$router.push("/finish/".concat(t.orderID)):alert("付款失敗")}),e.next=8;break;case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},backToInfo:function(){this.$router.push("/checkout")}},Object(c["b"])("cartModule",["getCartList","delCart"]),Object(c["b"])("orderModule",["createOrder"])),created:function(){this.getCartList(),this.currentStep="pay",""!==this.userdata.user.name.trim()&&""!==this.userdata.user.email.trim()&&""!==this.userdata.user.address.trim()&&""!==this.userdata.user.tel.trim()||this.$router.push("/checkout")},computed:Object(i["a"])({currentStep:{get:function(){return this.$store.state.cartModule.currentStep},set:function(t){this.$store.commit("cartModule/CURRENTSTEP",t,{root:!0})}}},Object(c["c"])(["isLoading"]),Object(c["c"])("cartModule",["cartlist","finalTotal","status","userdata"]),Object(c["c"])("orderModule",["orderInfo"]))},u=o,l=r("2877"),d=Object(l["a"])(u,a,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b33dc.7fee253b.js.map