(function(t){function e(e){for(var a,o,u=e[0],i=e[1],s=e[2],d=0,l=[];d<u.length;d++)o=u[d],c[o]&&l.push(c[o][0]),c[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);f&&f(e);while(l.length)l.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},c={app:0},r=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-1b517c60":"a309fc1b","chunk-265914ba":"d17c2d59","chunk-201405d5":"65ca7a90","chunk-2d0b33dc":"7fee253b","chunk-3834f0f4":"3a4e8d72","chunk-5f7098ca":"c4b7ec86","chunk-65027116":"f68fbbeb","chunk-6dac135c":"76e96975","chunk-7c610fed":"b3bb9c07","chunk-82b3c920":"1019ed03","chunk-961e37fe":"068a161f","chunk-e146055a":"12909a68","chunk-2d22d746":"3393b1fa","chunk-aa987b18":"88784e99","chunk-ea4eae82":"edf02a3f"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-1b517c60":1,"chunk-201405d5":1,"chunk-3834f0f4":1,"chunk-5f7098ca":1,"chunk-65027116":1,"chunk-6dac135c":1,"chunk-7c610fed":1,"chunk-82b3c920":1,"chunk-961e37fe":1,"chunk-e146055a":1,"chunk-aa987b18":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-1b517c60":"f6364390","chunk-265914ba":"31d6cfe0","chunk-201405d5":"cd5b6a71","chunk-2d0b33dc":"31d6cfe0","chunk-3834f0f4":"e9d5827c","chunk-5f7098ca":"81340772","chunk-65027116":"0e6cd4fb","chunk-6dac135c":"7207d617","chunk-7c610fed":"945a3e4f","chunk-82b3c920":"82a8cdb8","chunk-961e37fe":"d225a342","chunk-e146055a":"23100c6f","chunk-2d22d746":"31d6cfe0","chunk-aa987b18":"e12b00f4","chunk-ea4eae82":"31d6cfe0"}[t]+".css",c=i.p+a,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var s=r[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===a||d===c))return e()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===a||d===c)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||c,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[t],f.parentNode.removeChild(f),n(r)},f.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){o[t]=0}));var a=c[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,n){a=c[t]=[e,n]});e.push(a[2]=r);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(t),s=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=c[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+o+")");r.type=a,r.request=o,n[1](r)}c[t]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var f=d;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0fba":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=n("bc3a"),c=n.n(o),r=n("a7fe"),u=n.n(r),i=n("9062"),s=n.n(i),d=(n("e40d"),n("7bb1")),l=n("427f"),f=n.n(l),h=(n("4989"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),p=[],m=(n("5c0b"),n("2877")),g={},v=Object(m["a"])(g,h,p,!1,null,null,null),b=v.exports,k=(n("7f7f"),n("8c4f")),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light fixed-top"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-paw text-success",staticStyle:{"font-size":"1.5rem"},attrs:{"aria-hidden":"true"}}),n("span",{staticClass:"text-dark ml-2 font-weight-bold h4"},[t._v("好好吃蛋糕坊")])]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[n("ul",{staticClass:"navbar-nav"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link ",attrs:{to:"/products"}},[t._v("商品")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:" nav-link",attrs:{to:"/searchOrder"}},[t._v("訂單查詢")])],1),n("li",{staticClass:"nav-item d-block d-md-none"},[n("router-link",{staticClass:"nav-link ",attrs:{to:"/login"}},[t._v("後台管理")])],1)])]),n("router-link",{staticClass:"mr-3 d-none d-md-inline-block",attrs:{to:"/login"}},[n("i",{staticClass:"fas fa-user text-muted fa-2x"})])],1),t._m(1),n("router-view",{staticStyle:{"margin-top":"50px"}}),n("Footer")],1)},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"#",id:"gotoTop",title:"回到頂端"}},[n("i",{staticClass:"fas fa-arrow-alt-circle-up"})])}],P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",{staticClass:"bg-light text-muted py-5 footer"},[n("div",{staticClass:"container"},[n("p",{staticClass:"text-center"},[t._v("© Copright 2019 "),n("i",{staticClass:"fas fa-paw text-success pr-2 pl-1",attrs:{"aria-hidden":"true"}}),t._v("Delicious Cake House")]),n("p",{staticClass:"text-center"},[t._v("練習用，無商業用途")]),n("ul",{staticClass:"list-inline text-center "})])])])}],L=(n("5ef2"),{}),A=Object(m["a"])(L,P,C,!1,null,"c3bdd9e2",null),D=A.exports,y={name:"home",components:{Footer:D},data:function(){return{}}};function I(){document.getElementById("gotoTop")&&(document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("gotoTop").style.display="block":document.getElementById("gotoTop").style.display="none")}function S(){screen.width<540&&(document.getElementById("gotoTop")?document.getElementById("gotoTop").style.right=0:document.getElementById("gotoTop").style.right=30)}window.onscroll=function(){I()},window.addEventListener("resize",S);var E=y,_=(n("cccb"),Object(m["a"])(E,T,O,!1,null,null,null)),x=_.exports;a["a"].use(k["a"]);var N=new k["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"home",component:x,children:[{path:"/",name:"Index",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-82b3c920")]).then(n.bind(null,"d504"))}},{path:"/products",name:"Products",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-65027116")]).then(n.bind(null,"e6dc"))}},{path:"/product/:id",name:"Product",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-201405d5")]).then(n.bind(null,"d2f1"))}},{path:"/searchOrder",name:"SearchOrder",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-6dac135c")]).then(n.bind(null,"362e"))}},{path:"/about",name:"about",component:function(){return n.e("chunk-2d22d746").then(n.bind(null,"f820"))}},{path:"/",name:"Checkout",component:function(){return n.e("chunk-ea4eae82").then(n.bind(null,"b738"))},children:[{path:"/checkout",name:"CheckoutInfo",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-5f7098ca")]).then(n.bind(null,"1906"))}},{path:"/checkout/pay",name:"CheckoutPay",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-2d0b33dc")]).then(n.bind(null,"2811"))}},{path:"/finish/:id",name:"CheckoutFinish",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-961e37fe")]).then(n.bind(null,"ea51"))},beforeEnter:function(t,e,n){"CheckoutPay"!==e.name?n({path:"/checkout/pay"}):n()}}]},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-3834f0f4")]).then(n.bind(null,"676a"))}}]},{path:"/",name:"Dashboard",component:function(){return n.e("chunk-aa987b18").then(n.bind(null,"ca24"))},children:[{path:"/admin/products",name:"AdminProducts",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-e146055a")]).then(n.bind(null,"d416"))},meta:{requiresAuth:!0}},{path:"/admin/coupon",name:"Coupon",component:function(){return n.e("chunk-1b517c60").then(n.bind(null,"b4bf"))},meta:{requiresAuth:!0}},{path:"/admin/orderlist",name:"Orderlist",component:function(){return Promise.all([n.e("chunk-265914ba"),n.e("chunk-7c610fed")]).then(n.bind(null,"2296"))},meta:{requiresAuth:!0}}]}]}),R=(n("a481"),n("c5f6"),function(t){if(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,function(t,e,n){var a=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a}))}}),w=function(t){var e=t/10;return"".concat(e,"折")},U=function(t){var e=new Date(1e3*t);return e.toLocaleString()};a["a"].prototype.$bus=new a["a"];var G=n("2f62"),M=n("f499"),j=n.n(M),F={namespaced:"productsModule",state:{products:[],allProducts:[],tempProduct:{},editProduct:{},product:{}},actions:{getProducts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.page,a=void 0===n?-1:n,o=e.qty,r=void 0===o?-1:o,u=-1!==a?"?page=".concat(a):"",i=[],s=[];t.commit("LOADING",!0,{root:!0});var d="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/products").concat(u);return c.a.get(d).then(function(e){if(t.commit("LOADING",!1,{root:!0}),t.commit("ALLPRODUCTS",e.data.products),s=e.data.products.filter(function(t,e){return!0===t.is_enable}),-1===r)t.commit("PRODUCTS",s);else{for(var n=0;n<r;n++){var o=Math.floor(Math.random()*s.length);i.push(s[o]),s.splice(o,1)}t.commit("PRODUCTS",i)}-1!==a&&t.commit("PAGINATION",e.data.pagination,{root:!0})})},addProduct:function(t,e){var n=e.data,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/product");return c.a.post(a,{data:n}).then(function(e){t.dispatch("getProducts",{page:1})})},updateProduct:function(t,e){var n=e.data,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/product/").concat(n.id);return c.a.put(a,{data:n}).then(function(e){t.dispatch("getProducts",{page:1})})},delProduct:function(t,e){var n=e.data,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/product/").concat(n.id);return c.a.delete(a,{data:n}).then(function(e){t.dispatch("getProducts",{page:1})})},searchProduct:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/order/").concat(e);return t.commit("LOADING",!0,{root:!0}),c.a.get(n).then(function(e){t.commit("LOADING",!1,{root:!0}),e.data.success&&(t.commit("TEMPPRODUCT",e.data.order),t.commit("EDITPRODUCT",JSON.parse(j()(e.data.order))))})},getProductInfo:function(t,e){t.commit("LOADING",!0,{root:!0});var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/product/").concat(e);return c.a.get(n).then(function(e){t.commit("LOADING",!1,{root:!0}),e.data.success&&t.commit("PRODUCT",e.data.product)})}},mutations:{PRODUCTS:function(t,e){t.products=e},ALLPRODUCTS:function(t,e){t.allProducts=e},TEMPPRODUCT:function(t,e){t.tempProduct=e},EDITPRODUCT:function(t,e){t.editProduct=e},PRODUCT:function(t,e){t.product=e}},getters:{products:function(t){return t.products},allProducts:function(t){return t.allProducts},tempProduct:function(t){return t.tempProduct},editProduct:function(t){return t.editProduct},product:function(t){return t.product}}},q={namespaced:"cartModule",state:{cartlist:[],finalTotal:0,status:{addToCart:"",del:!1,pay:!1},currentStep:"info",userdata:{user:{name:"",email:"",address:"",tel:""},message:""}},actions:{getCartList:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/cart");c.a.get(e).then(function(e){t.commit("CARTLIST",e.data.data.carts),t.commit("FINALTOTAL",e.data.data.final_total)})},addToCart:function(t,e){var n=e.id,a=e.qty,o=void 0===a?1:a,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/cart"),u={data:{product_id:n,qty:o}};return t.commit("LOADING",!0,{root:!0}),t.commit("STATUS_ADDTOCART",n),c.a.post(r,u).then(function(e){e.data.success&&(t.commit("LOADING",!1,{root:!0}),t.dispatch("getCartList"),t.commit("STATUS_ADDTOCART",""))})},delCart:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/cart/").concat(e);return t.commit("STATUS_DEL",!0),c.a.delete(n).then(function(e){t.commit("STATUS_DEL",!1),t.dispatch("getCartList")})}},mutations:{CARTLIST:function(t,e){t.cartlist=e},FINALTOTAL:function(t,e){t.finalTotal=e},STATUS_ADDTOCART:function(t,e){t.status.addToCart=e},STATUS_DEL:function(t,e){t.status.del=e},CURRENTSTEP:function(t,e){t.currentStep=e},USERDATA:function(t,e){t.userdata=e}},getters:{cartlist:function(t){return t.cartlist},finalTotal:function(t){return t.finalTotal},status:function(t){return t.status},currentStep:function(t){return t.currentStep},userdata:function(t){return t.userdata}}},B=(n("4917"),{namespaced:"orderModule",state:{orderList:[],orderPageList:[],orderInfo:{}},mutations:{ORDERLIST:function(t,e){t.orderList=e},ORDERPAGELIST:function(t,e){t.orderPageList=e},ORDERINFO:function(t,e){t.orderInfo=e}},actions:{getOrderList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.page,a=void 0===n?-1:n;if(t.commit("LOADING",!0,{root:!0}),-1===a){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/orders");c.a.get(o).then(function(e){t.commit("LOADING",!1,{root:!0}),e.data.success&&t.commit("ORDERLIST",e.data.orders)})}else{var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/orders?page=").concat(a);c.a.get(r).then(function(e){t.commit("LOADING",!1,{root:!0}),e.data.success&&(console.log(e.data.pagination),t.commit("ORDERPAGELIST",e.data.orders),t.commit("PAGINATION",e.data.pagination,{root:!0}))})}},searchFilterOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/orders");c.a.get(n).then(function(n){if(n.data.success){var a=n.data.orders.filter(function(t,n){if(t.id.match(e))return!0});t.commit("ORDERLIST",a)}})},getOrderInfo:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/order/").concat(e);return c.a.get(n).then(function(e){e.data.order?t.commit("ORDERINFO",e.data.order):(t.commit("ORDERINFO",{}),alert("查無資料"))})},updateOrderUser:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/admin/order/").concat(e.id),a={data:{user:e.user,message:e.message}};return c.a.put(n,a).then(function(n){n.data.success?(alert("更新成功"),t.dispatch("productsModule/searchProduct",e.id,{root:!0}),t.dispatch("getOrderList"),t.dispatch("getOrderList",1)):alert("更新失敗")})},createOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("mu24241","/order");return t.commit("LOADING",!0,{root:!0}),c.a.post(n,{data:e}).then(function(e){t.commit("LOADING",!1,{root:!0}),e.data.success?t.commit("ORDERINFO",e.data):e.message?alert(e.data.message):e.messages&&alert(e.data.messages)})}},getters:{orderList:function(t){return t.orderList},orderPageList:function(t){return t.orderPageList},orderInfo:function(t){return t.orderInfo}}});a["a"].use(G["a"]);var $=new G["a"].Store({namespaced:!0,state:{isLoading:!1,pagination:{}},mutations:{LOADING:function(t,e){t.isLoading=e},PAGINATION:function(t,e){t.pagination=e},STATUS_ADDTOCART:function(t,e){t.status.addToCart=e}},actions:{updateLoading:function(t,e){t.commit("LOADING",e)}},getters:{isLoading:function(t){return t.isLoading},pagination:function(t){return t.pagination},status:function(t){return t.status}},modules:{productsModule:F,cartModule:q,orderModule:B}});a["a"].config.productionTip=!1,a["a"].use(u.a,c.a),a["a"].use(d["a"]),a["a"].component("Loading",s.a),c.a.defaults.withCredentials=!0,a["a"].filter("currency",R),a["a"].filter("discount",w),a["a"].filter("date",U),d["a"].Validator.localize("zh_TW",f.a),a["a"].use(d["a"],{locale:"zh_TW"}),new a["a"]({router:N,store:$,render:function(t){return t(b)}}).$mount("#app"),N.beforeEach(function(t,e,n){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");c.a.post(a).then(function(t){t.data.success?n():n({path:"/login"})})}else n()})},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),o=n.n(a);o.a},"5e27":function(t,e,n){},"5ef2":function(t,e,n){"use strict";var a=n("0fba"),o=n.n(a);o.a},cccb:function(t,e,n){"use strict";var a=n("d563"),o=n.n(a);o.a},d563:function(t,e,n){}});
//# sourceMappingURL=app.f2180d15.js.map