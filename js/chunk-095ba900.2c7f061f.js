(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-095ba900"],{1799:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),s("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pagination.total_pages,function(e){return s("li",{key:e,staticClass:"page-item",class:{active:t.pagination.current_page==e}},[s("a",{staticClass:"page-link",on:{click:function(s){return s.preventDefault(),t.getProducts(e)}}},[t._v(t._s(e))])])}),s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),s("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])])},i=[],r={props:["pagination"],methods:{getProducts:function(t){this.$emit("getPageProducts",{page:t})}}},n=r,o=(s("b49d"),s("2877")),c=Object(o["a"])(n,a,i,!1,null,"cfd81368",null);e["a"]=c.exports},2296:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("h3",{staticClass:"font-weight-bold"},[t._v("訂單管理")]),s("div",{staticClass:"mr-auto"},[s("div",{staticClass:"d-flex align-items-center justify-content-end"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"select"}],staticClass:"form-control",staticStyle:{width:"150px","border-radius":"0.25rem 0 0 0.25rem"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.select=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--篩選條件--")]),s("option",{attrs:{value:"ID"}},[t._v("訂單編號")]),s("option",{attrs:{value:"name"}},[t._v("購買人")]),s("option",{attrs:{value:"email"}},[t._v("E-mail")])]),s("div",{staticClass:"input-group position-relative",staticStyle:{width:"300px","border-radius":"0 0.25rem 0.25rem 0"}},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchItem,expression:"searchItem"}],staticClass:"form-control",staticStyle:{"padding-left":"31px"},attrs:{type:"text",id:"Search",placeholder:"開始搜尋"},domProps:{value:t.searchItem},on:{input:function(e){e.target.composing||(t.searchItem=e.target.value)}}})])])]),s("table",{staticClass:"table mt-4"},[t._m(1),s("tbody",t._l(t.filterList,function(e,a){return s("tr",{key:a},[s("td",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.getProduct(e.id)}}},[t._v(t._s(e.id))])]),s("td",[t._v(t._s(t._f("date")(e.create_at)))]),s("td",[t._v(t._s(e.user.name))]),s("td",[t._v(t._s(e.user.email))]),s("td",[t._v(t._s(t._f("currency")(e.total)))]),s("td",{class:{"text-success":e.is_paid}},[e.is_paid?s("span",{staticClass:"font-weight-bold"},[t._v("已付款")]):s("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])}),0)]),t.status.pagination?s("Pagination",{attrs:{pagination:t.pagination},on:{getPageProducts:t.getOrderList}}):t._e(),s("div",{ref:"ProductModal",staticClass:"modal fade",attrs:{id:"ProductModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[t._m(2),t.tempProduct.user?s("div",{staticClass:"modal-body"},[s("div",{staticClass:"font-weight-bold text-center mb-3"},[t._v("\n            訂單編號："+t._s(t.tempProduct.id)+"\n            "),t.status.edit?t._e():[s("button",{staticClass:"btn btn-info btn-sm ml-3",on:{click:function(e){t.status.edit=!0}}},[t._v("編輯")])],t.status.edit?[s("button",{staticClass:"btn btn-secondary btn-sm ml-3",class:{disabled:t.status.updateUser},on:{click:function(e){t.status.edit=!1,t.editProduct=JSON.parse(JSON.stringify(t.tempProduct))}}},[t._v("取消")]),s("button",{staticClass:"btn btn-success btn-sm ml-3",class:{disabled:t.status.updateUser},on:{click:function(e){return t.updateUser()}}},[t._v("\n                確認\n                "),t.status.updateUser?s("i",{staticClass:"fas fa-spinner fa-spin ml-1"}):t._e()])]:t._e()],2),s("h5",{staticClass:"py-2 mb-2 text-center bg-light font-weight-bold"},[t._v("🎈 訂購人")]),t.status.edit?t._e():s("div",{staticClass:"row ml-3"},[s("span",{staticClass:"font-weight-bold"},[t._v("姓名：")]),t._v(" "+t._s(t.tempProduct.user.name)+"\n            "),s("div",{staticClass:"w-100"}),s("span",{staticClass:"font-weight-bold"},[t._v("電話：")]),t._v(t._s(t.tempProduct.user.tel)+"\n            "),s("div",{staticClass:"w-100"}),s("span",{staticClass:"font-weight-bold"},[t._v("email：")]),t._v(t._s(t.tempProduct.user.email)+"\n            "),s("div",{staticClass:"w-100"}),s("span",{staticClass:"font-weight-bold"},[t._v("住址：")]),t._v(t._s(t.tempProduct.user.address)+"\n            "),s("div",{staticClass:"w-100"}),s("span",{staticClass:"font-weight-bold"},[t._v("留言：")]),t._v(t._s(t.tempProduct.message)+"\n          ")]),t.status.edit?s("div",{staticClass:"row ml-3"},[s("div",{staticClass:"form-group d-flex align-items-center "},[s("label",{staticStyle:{width:"71px"},attrs:{for:"name"}},[t._v("姓名：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct.user.name,expression:"editProduct.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.editProduct.user.name},on:{input:function(e){e.target.composing||t.$set(t.editProduct.user,"name",e.target.value)}}})]),s("div",{staticClass:"form-group d-flex align-items-center"},[s("label",{staticStyle:{width:"71px"},attrs:{for:"tel"}},[t._v("電話：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct.user.tel,expression:"editProduct.user.tel"}],staticClass:"form-control",attrs:{type:"text",id:"tel"},domProps:{value:t.editProduct.user.tel},on:{input:function(e){e.target.composing||t.$set(t.editProduct.user,"tel",e.target.value)}}})]),s("div",{staticClass:"form-group d-flex align-items-center"},[s("label",{staticStyle:{width:"71px"},attrs:{for:"email"}},[t._v("email：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct.user.email,expression:"editProduct.user.email"}],staticClass:"form-control",attrs:{type:"text",id:"email"},domProps:{value:t.editProduct.user.email},on:{input:function(e){e.target.composing||t.$set(t.editProduct.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-group d-flex align-items-center"},[s("label",{staticStyle:{width:"71px"},attrs:{for:"address"}},[t._v("地址：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct.user.address,expression:"editProduct.user.address"}],staticClass:"form-control",attrs:{type:"text",id:"address"},domProps:{value:t.editProduct.user.address},on:{input:function(e){e.target.composing||t.$set(t.editProduct.user,"address",e.target.value)}}})]),s("div",{staticClass:"form-group d-flex align-items-center"},[s("label",{staticStyle:{width:"71px"},attrs:{for:"message"}},[t._v("留言：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct.message,expression:"editProduct.message"}],staticClass:"form-control",attrs:{type:"text",id:"message"},domProps:{value:t.editProduct.message},on:{input:function(e){e.target.composing||t.$set(t.editProduct,"message",e.target.value)}}})])]):t._e(),s("h5",{staticClass:"py-2 mt-3 mb-2 text-center bg-light font-weight-bold"},[t._v("📄 訂購商品")]),s("div",{staticClass:"row ml-3"},[s("table",{staticClass:"table mt-1"},[t._m(3),s("tbody",t._l(t.tempProduct.products,function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.product.title))]),s("td",[t._v(t._s(e.qty)+" "+t._s(e.product.unit))]),s("td",[t._v("$ "+t._s(e.product.price))]),s("td",[t._v("$ "+t._s(e.final_total))])])}),0)])])]):t._e(),s("div",{staticClass:"modal-footer"},[t.status.edit?t._e():s("button",{staticClass:"btn btn-success",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確認")])])])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon position-absolute",staticStyle:{left:"9px",top:"8px","z-index":"5"}},[s("i",{staticClass:"fas fa-search"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("訂單編號")]),s("th",[t._v("購買日期 ")]),s("th",[t._v("購買人")]),s("th",[t._v("E-mail")]),s("th",[t._v("金額")]),s("th",[t._v("是否付款")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header text-light bg-success"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("\n            訂單詳細資訊\n          ")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("產品名稱")]),s("th",{attrs:{width:"120"}},[t._v("數量")]),s("th",{attrs:{width:"120"}},[t._v("單價")]),s("th",{attrs:{width:"100"}},[t._v("總價")])])])}],r=(s("96cf"),s("3b8d")),n=(s("7f7f"),s("4917"),s("cebc")),o=s("1157"),c=s.n(o),d=s("1799"),l=s("2f62"),u={data:function(){return{searchItem:"",select:"",status:{pagination:!0,edit:!1,updateUser:!1}}},computed:Object(n["a"])({filterList:function(){var t=this,e=t.orderPageList;if(t.status.pagination=!0,""===t.searchItem)return e;switch(t.select){case"name":t.status.pagination=!1,e=t.orderList.filter(function(e,s){return e.user.name.match(t.searchItem)});break;case"ID":t.status.pagination=!1,e=t.orderList.filter(function(e,s){return e.id.match(t.searchItem)});break;case"email":t.status.pagination=!1,e=t.orderList.filter(function(e,s){return e.user.email.match(t.searchItem)});break}return e},editProduct:{get:function(){return this.$store.state.productsModule.editProduct},set:function(t){this.$store.commit("productsModule/EDITPRODUCT",t,{root:!0})}}},Object(l["c"])(["isLoading","pagination"]),Object(l["c"])("productsModule",["tempProduct"]),Object(l["c"])("orderModule",["orderList","orderPageList"])),methods:Object(n["a"])({search:function(){this.searchFilterOrder(this.searchItem)},getProduct:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.searchProduct(e);case 2:c()("#ProductModal").modal("show");case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),updateUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.status.updateUser=!0,t.next=4,this.updateOrderUser(this.editProduct);case 4:e.status.updateUser=!1,e.status.edit=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),hideEditMode:function(){this.status.edit=!1}},Object(l["b"])("productsModule",["searchProduct"]),Object(l["b"])("orderModule",["getOrderList","searchOrder","updateOrderUser"])),created:function(){this.getOrderList(),this.getOrderList({page:1})},mounted:function(){c()(this.$refs.ProductModal).on("hidden.bs.modal",this.hideEditMode)},components:{Pagination:d["a"]}},m=u,p=(s("c789"),s("2877")),v=Object(p["a"])(m,a,i,!1,null,"d12ba106",null);e["default"]=v.exports},"8fd7":function(t,e,s){},"9b44":function(t,e,s){},b49d:function(t,e,s){"use strict";var a=s("8fd7"),i=s.n(a);i.a},c789:function(t,e,s){"use strict";var a=s("9b44"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-095ba900.2c7f061f.js.map